<div class="relative">
  <div
    class="relative flex flex-col items-center gap-3 p-3 py-10 justify-items-center bg-neutral-100 group">
    @if (reduction) {
    <span
      class="absolute px-4 py-1 text-white bg-red-400 rounded-md left-4 top-4 w-fit">-40%</span>
    }
    <div class="absolute flex flex-col gap-4 right-2 top-4">
      <button
        class="flex items-center justify-center w-8 h-8 bg-white rounded-full">
        <ng-icon name="heroHeart" size="24" />
      </button>
      <button
        class="flex items-center justify-center w-8 h-8 bg-white rounded-full">
        <ng-icon name="heroEye" size="24" />
      </button>
    </div>
    <div class="relative flex items-center justify-center w-32 h-32 mx-auto">
      <img [ngSrc]="currentVariant.image" [alt]="product.name" class="object-contain"
        fill />
    </div>
    <button
      class="absolute bottom-0 left-0 right-0 hidden py-2 text-sm text-white bg-black group-hover:block group-focus:block">Add
      To Cart</button>
  </div>
  <h2 class="mt-4 text-base font-semibold">
    {{product.name}}
  </h2>
  <div class="flex items-center gap-2 my-2">
    <p class="text-error-400">${{currentVariant.price}}</p>
    @if (currentVariant.previousPrice > 0) {
    <p class="text-gray-500 line-through">${{currentVariant.previousPrice}}</p>
    }
  </div>
  <div class="flex items-center gap-2">
    <div class="flex items-center">
      <ng-icon name="heroStarSolid" class="text-yellow-500" />
      <ng-icon name="heroStarSolid" class="text-yellow-500" />
      <ng-icon name="heroStarSolid" class="text-yellow-500" />
      <ng-icon name="heroStarSolid" class="text-yellow-500" />
      <ng-icon name="heroStarSolid" class="text-yellow-500" />
    </div>
    <p>(88)</p>
  </div>
  <div class="flex flex-wrap items-center gap-1 mt-2">
    @if (product.variants && product.variants.length > 1) {
    @for (variant of product.variants; track $index) {
    <div
      [ngStyle]="getVariantStyles(variant)"
      (click)="selectVariant(variant)"
      class='relative flex items-center justify-center w-6 h-6 rounded-full'>
      <span [ngStyle]="getInnerStyles(variant)"
        class="absolute rounded-full"></span>
    </div>
    }
    }
  </div>
</div>
